$.fn.countdownTime = function(options){
    var _this = this,events ={};
    var totalSeconds = options.totalSeconds;
    options.events = options.events?options.events(events):function(events){
        $(_this.selector).html(events.hours+":"+events.minutes+":"+events.seconds);
    };
    var timeInterval = setInterval(setTime, 1000);
    setTime();
    function setTime()
    {
        --totalSeconds;
        events.event = _this;
        events.seconds = pad(totalSeconds%60);
        events.minutes= pad(parseInt((totalSeconds/60)%60));
        events.hours = pad(parseInt((totalSeconds/(60*60))%60));
        options.events(events);
        if(totalSeconds<=0)
        {
            options.endStart?options.endStart():"";
            clearInterval(timeInterval);
        }

    }
    function pad(val)
    {
        var valString = val + "";
        if(valString.length < 2)
        {
            return "0" + valString;
        }
        else
        {
            return valString;
        }
    }
}